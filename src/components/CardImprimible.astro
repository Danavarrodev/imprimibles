---
const { title, description, cover, subject, level, slug, pdf } = Astro.props;
---

<article
  class="group rounded-xl border border-gray-200 bg-white shadow-sm hover:shadow-md transition overflow-hidden"
  data-title={title}
  data-subject={subject}
  data-level={level}
>
  <a href={`/imprimibles/${slug}/`} class="block">
    <div class="flex items-center justify-center bg-gray-50 rounded-t-xl min-h-[176px]">
      <img
        src={cover ?? "/images/placeholder.svg"}
        alt={title}
        loading="lazy"
        class="max-h-[176px] object-contain"
      />
    </div>

    <div class="p-4">
      <h3 class="text-base font-semibold text-gray-900 group-hover:underline">
        {title}
      </h3>
      <p class="mt-1 text-sm text-gray-600 line-clamp-2">
        {description ?? "Actividad imprimible."}
      </p>

      <div class="mt-3 flex flex-wrap gap-2">
        <span class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs text-gray-700">
          {subject}
        </span>
        <span class="inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs text-gray-700">
          {level}
        </span>
      </div>

      <div class="mt-4 flex items-center gap-2">
        <span class="text-sm text-gray-500">Ver ficha</span>
        {pdf && (
          <a href={pdf.startsWith("/") ? pdf : "/" + pdf}>Descargar PDF</a>
        )}
      </div>
    </div>
  </a>
</article>
